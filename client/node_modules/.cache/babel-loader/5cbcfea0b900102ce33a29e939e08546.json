{"ast":null,"code":"import _classCallCheck from\"/Users/michellerohde/code/white-bear-fullstack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/michellerohde/code/white-bear-fullstack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/michellerohde/code/white-bear-fullstack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/michellerohde/code/white-bear-fullstack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import AppTemplate from\"../ui/AppTemplate\";import MemoryCard from\"../ui/MemoryCard\";import axios from\"axios\";var userId=\"97b6d770-b0bf-45f7-8e82-5461eda8df7b\";// THIS PAGE IS A GOOD EXAMPLE OF\n// ***** LOCAL STATE *****\n// We don't need \"all cards\" anywhere else.\n// On other pages, we are using the list of queued cards, which has global state.\nvar AllCards=/*#__PURE__*/function(_React$Component){_inherits(AllCards,_React$Component);var _super=_createSuper(AllCards);function AllCards(props){var _this;_classCallCheck(this,AllCards);_this=_super.call(this,props);_this.state={order:\"memory_cards.created_at%20DESC\",// choosing from the dropdown \"most recent\"\nmemoryCards:[],// setting the order of the cards to the most recent parameters\nsearchTerm:\"\"};return _this;}_createClass(AllCards,[{key:\"componentDidMount\",value:function componentDidMount(){this.setMemoryCards();}},{key:\"setOrder\",value:function setOrder(e){var _this2=this;var newOrder=e.target.value;// '[\"totalSuccessfulAttempts\", \"createdAt\"], [\"asc\", \"desc\"]'\nthis.setState({order:newOrder},function(){_this2.setMemoryCards();});}},{key:\"setSearchTerm\",value:function setSearchTerm(){var _this3=this;var searchInput=document.getElementById(\"search-input\").value;this.setState({searchTerm:searchInput},function(){_this3.setMemoryCards();});}},{key:\"setMemoryCards\",value:function setMemoryCards(){var _this4=this;axios.get(\"http://localhost:3045/api/v1/memory-cards?userId=\".concat(userId,\"&searchTerm=\").concat(this.state.searchTerm,\"&order=\").concat(this.state.order)).then(function(res){// handle success\nconsole.log(res.data);_this4.setState({memoryCards:res.data});}).catch(function(error){// handle error\n});}},{key:\"render\",value:function render(){var _this5=this;return/*#__PURE__*/React.createElement(AppTemplate,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row my-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"},/*#__PURE__*/React.createElement(\"input\",{className:\"form-control form-control-sm\",type:\"text\",placeholder:\"Search for a word\",id:\"search-input\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-block btn-sm\",onClick:function onClick(){return _this5.setSearchTerm();}},\"Search\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row my-4 no-gutters\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted mt-1\"},\"Sort cards by\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"},/*#__PURE__*/React.createElement(\"select\",{value:this.state.order,className:\"form-control form-control-sm\",onChange:function onChange(e){return _this5.setOrder(e);}},/*#__PURE__*/React.createElement(\"option\",{value:\"memory_cards.created_at%20DESC\"},\"Most recent\"),/*#__PURE__*/React.createElement(\"option\",{value:\"memory_cards.created_at%20ASC\"},\"Oldest\"),/*#__PURE__*/React.createElement(\"option\",{value:\"memory_cards.total_successful_attempts%20ASC,memory_cards.created_at%20ASC\"},\"Hardest\"),/*#__PURE__*/React.createElement(\"option\",{value:\"memory_cards.total_successful_attempts%20DESC,memory_cards.created_at%20DESC\"},\"Easiest\")))),this.state.memoryCards.map(function(memoryCard){return/*#__PURE__*/React.createElement(MemoryCard,{card:memoryCard,key:memoryCard.id});}));}}]);return AllCards;}(React.Component);export{AllCards as default};","map":{"version":3,"sources":["/Users/michellerohde/code/white-bear-fullstack/client/src/components/pages/AllCards.js"],"names":["React","AppTemplate","MemoryCard","axios","userId","AllCards","props","state","order","memoryCards","searchTerm","setMemoryCards","e","newOrder","target","value","setState","searchInput","document","getElementById","get","then","res","console","log","data","catch","error","setSearchTerm","setOrder","map","memoryCard","id","Component"],"mappings":"gqBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,mBAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,GAAMC,CAAAA,MAAM,CAAG,sCAAf,CAEA;AACA;AACA;AACA;GAEqBC,CAAAA,Q,gHAClB,kBAAYC,KAAZ,CAAmB,0CAChB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACVC,KAAK,CAAE,gCADG,CAC+B;AACzCC,WAAW,CAAE,EAFH,CAEO;AACjBC,UAAU,CAAE,EAHF,CAAb,CAHgB,aAQlB,C,kFAEmB,CACjB,KAAKC,cAAL,GACF,C,0CAEQC,C,CAAG,iBACT,GAAMC,CAAAA,QAAQ,CAAGD,CAAC,CAACE,MAAF,CAASC,KAA1B,CAAiC;AACjC,KAAKC,QAAL,CACG,CACGR,KAAK,CAAEK,QADV,CADH,CAIG,UAAM,CACH,MAAI,CAACF,cAAL,GACF,CANJ,EAQF,C,qDAEe,iBACb,GAAMM,CAAAA,WAAW,CAAGC,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCJ,KAA5D,CACA,KAAKC,QAAL,CAAc,CAAEN,UAAU,CAAEO,WAAd,CAAd,CAA2C,UAAM,CAC9C,MAAI,CAACN,cAAL,GACF,CAFD,EAGF,C,uDAEgB,iBACdR,KAAK,CACDiB,GADJ,4DAE0DhB,MAF1D,wBAE+E,KAAKG,KAAL,CAAWG,UAF1F,mBAE8G,KAAKH,KAAL,CAAWC,KAFzH,GAIIa,IAJJ,CAIS,SAACC,GAAD,CAAS,CACZ;AACAC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACA,MAAI,CAACT,QAAL,CAAc,CACXP,WAAW,CAAEa,GAAG,CAACG,IADN,CAAd,EAGF,CAVJ,EAWIC,KAXJ,CAWU,SAACC,KAAD,CAAW,CACf;AACF,CAbJ,EAcF,C,uCAEQ,iBACN,mBACG,oBAAC,WAAD,mBACG,2BAAK,SAAS,CAAC,UAAf,eACG,2BAAK,SAAS,CAAC,OAAf,eACG,6BACG,SAAS,CAAC,8BADb,CAEG,IAAI,CAAC,MAFR,CAGG,WAAW,CAAC,mBAHf,CAIG,EAAE,CAAC,cAJN,EADH,CADH,cASG,2BAAK,SAAS,CAAC,OAAf,eACG,8BACG,SAAS,CAAC,kCADb,CAEG,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACC,aAAL,EAAN,EAFZ,WADH,CATH,CADH,cAoBG,2BAAK,SAAS,CAAC,qBAAf,eACG,2BAAK,SAAS,CAAC,OAAf,eACG,yBAAG,SAAS,CAAC,iBAAb,kBADH,CADH,cAIG,2BAAK,SAAS,CAAC,OAAf,eACG,8BACG,KAAK,CAAE,KAAKrB,KAAL,CAAWC,KADrB,CAEG,SAAS,CAAC,8BAFb,CAGG,QAAQ,CAAE,kBAACI,CAAD,QAAO,CAAA,MAAI,CAACiB,QAAL,CAAcjB,CAAd,CAAP,EAHb,eAKG,8BAAQ,KAAK,CAAC,gCAAd,gBALH,cAQG,8BAAQ,KAAK,CAAC,+BAAd,WARH,cAWG,8BAAQ,KAAK,CAAC,4EAAd,YAXH,cAcG,8BAAQ,KAAK,CAAC,8EAAd,YAdH,CADH,CAJH,CApBH,CA6CI,KAAKL,KAAL,CAAWE,WAAX,CAAuBqB,GAAvB,CAA2B,SAACC,UAAD,CAAgB,CACzC,mBAAO,oBAAC,UAAD,EAAY,IAAI,CAAEA,UAAlB,CAA8B,GAAG,CAAEA,UAAU,CAACC,EAA9C,EAAP,CACF,CAFA,CA7CJ,CADH,CAmDF,C,sBAvGkChC,KAAK,CAACiC,S,SAAvB5B,Q","sourcesContent":["import React from \"react\";\nimport AppTemplate from \"../ui/AppTemplate\";\nimport MemoryCard from \"../ui/MemoryCard\";\nimport axios from \"axios\";\nconst userId = \"97b6d770-b0bf-45f7-8e82-5461eda8df7b\";\n\n// THIS PAGE IS A GOOD EXAMPLE OF\n// ***** LOCAL STATE *****\n// We don't need \"all cards\" anywhere else.\n// On other pages, we are using the list of queued cards, which has global state.\n\nexport default class AllCards extends React.Component {\n   constructor(props) {\n      super(props);\n\n      this.state = {\n         order: \"memory_cards.created_at%20DESC\", // choosing from the dropdown \"most recent\"\n         memoryCards: [], // setting the order of the cards to the most recent parameters\n         searchTerm: \"\",\n      };\n   }\n\n   componentDidMount() {\n      this.setMemoryCards();\n   }\n\n   setOrder(e) {\n      const newOrder = e.target.value; // '[\"totalSuccessfulAttempts\", \"createdAt\"], [\"asc\", \"desc\"]'\n      this.setState(\n         {\n            order: newOrder,\n         },\n         () => {\n            this.setMemoryCards();\n         }\n      );\n   }\n\n   setSearchTerm() {\n      const searchInput = document.getElementById(\"search-input\").value;\n      this.setState({ searchTerm: searchInput }, () => {\n         this.setMemoryCards();\n      });\n   }\n\n   setMemoryCards() {\n      axios\n         .get(\n            `http://localhost:3045/api/v1/memory-cards?userId=${userId}&searchTerm=${this.state.searchTerm}&order=${this.state.order}`\n         )\n         .then((res) => {\n            // handle success\n            console.log(res.data);\n            this.setState({\n               memoryCards: res.data,\n            });\n         })\n         .catch((error) => {\n            // handle error\n         });\n   }\n\n   render() {\n      return (\n         <AppTemplate>\n            <div className=\"row my-4\">\n               <div className=\"col-8\">\n                  <input\n                     className=\"form-control form-control-sm\"\n                     type=\"text\"\n                     placeholder=\"Search for a word\"\n                     id=\"search-input\"\n                  />\n               </div>\n               <div className=\"col-4\">\n                  <button\n                     className=\"btn btn-primary btn-block btn-sm\"\n                     onClick={() => this.setSearchTerm()}\n                  >\n                     Search\n                  </button>\n               </div>\n            </div>\n\n            <div className=\"row my-4 no-gutters\">\n               <div className=\"col-4\">\n                  <p className=\"text-muted mt-1\">Sort cards by</p>\n               </div>\n               <div className=\"col-8\">\n                  <select\n                     value={this.state.order}\n                     className=\"form-control form-control-sm\"\n                     onChange={(e) => this.setOrder(e)}\n                  >\n                     <option value=\"memory_cards.created_at%20DESC\">\n                        Most recent\n                     </option>\n                     <option value=\"memory_cards.created_at%20ASC\">\n                        Oldest\n                     </option>\n                     <option value=\"memory_cards.total_successful_attempts%20ASC,memory_cards.created_at%20ASC\">\n                        Hardest\n                     </option>\n                     <option value=\"memory_cards.total_successful_attempts%20DESC,memory_cards.created_at%20DESC\">\n                        Easiest\n                     </option>\n                  </select>\n               </div>\n            </div>\n            {this.state.memoryCards.map((memoryCard) => {\n               return <MemoryCard card={memoryCard} key={memoryCard.id} />;\n            })}\n         </AppTemplate>\n      );\n   }\n}\n"]},"metadata":{},"sourceType":"module"}